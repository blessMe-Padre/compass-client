import React from 'react';
import styles from './style.module.scss';
import Image from 'next/image';
import { LinkButton } from '../index';

function CardItem({ element }) {
    const { 
        item_name,
        item_price,
        item_sale_price,
        item_hit,
        item_promo,
        item_promo_name,
        imgs,
        item_link
    } = element;

    console.log(item_hit)

    return (
        <div className={styles.card}>
            {imgs && imgs[0]?.item_link_img_slide_1 && (
              <div className={styles.img_wrapper}>
                 <Image 
                    src={'/top/item_1.png'} 
                    alt={item_name} 
                    width={300}
                    height={300}
                    className={styles.card_image}
                 />  
              </div>
            )}

            <h3 className={styles.name}>{item_name}</h3>

            <div className={styles.badges_container}>
                {item_hit === 'true' && (
                    <div className={styles.hit_badge}>
                        <span>Новинка</span>
                    </div>
                )}

                {item_promo && item_promo_name && (
                    <div className={styles.promo_badge}>
                        {item_promo_name}
                    </div>
                )}

            </div>

            <div className={styles.favorite}>
                <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.3949 2.19052C19.3098 0.959297 17.8044 0.28125 16.1562 0.28125C13.8382 0.28125 12.3706 1.6657 11.5476 2.82715C11.3341 3.12853 11.1525 3.43073 11 3.7151C10.8475 3.43073 10.6659 3.12853 10.4524 2.82715C9.62943 1.6657 8.16183 0.28125 5.84375 0.28125C4.19555 0.28125 2.69023 0.95934 1.6051 2.19057C0.570066 3.36507 0 4.93807 0 6.61979C0 8.45038 0.714699 10.153 2.2492 11.978C3.62063 13.6091 5.59363 15.2904 7.87832 17.2372C8.72966 17.9627 9.61005 18.713 10.5473 19.533L10.5755 19.5577C10.697 19.6641 10.8485 19.7172 11 19.7172C11.1515 19.7172 11.303 19.664 11.4245 19.5577L11.4527 19.533C12.39 18.713 13.2703 17.9628 14.1218 17.2371C16.4064 15.2904 18.3794 13.6091 19.7508 11.978C21.2853 10.153 22 8.45038 22 6.61979C22 4.93807 21.4299 3.36507 20.3949 2.19052Z" fill="#C1C1C1"/>
                </svg>  
            </div>
         
            <div className={styles.price_container}>
                {item_sale_price ? (
                    <>
                        <p className={`${styles.item_price} ${styles.price_underline}`}>{item_price} Р</p>
                        <p className={styles.item_sale_price}>{item_sale_price} Р</p>
                    </>
                ) : (
                    <p className={styles.item_price}>{item_price} Р</p>
                )}
            </div>
            
            <div className={styles.btn_wrapper}>
                <svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clipPath="url(#clip0_2026_3376)">
                    <path fillRule="evenodd" clipRule="evenodd" d="M7.76995 7.61142H6.26193C5.75957 7.61144 5.27586 7.79676 4.90822 8.13007C4.54058 8.46338 4.31631 8.91991 4.28057 9.40775L3.30777 22.6689C3.28836 22.9338 3.3252 23.1997 3.41598 23.4501C3.50676 23.7005 3.64954 23.9301 3.83543 24.1244C4.02131 24.3188 4.24631 24.4737 4.49642 24.5797C4.74652 24.6857 5.01636 24.7404 5.28913 24.7404H21.0129C21.2856 24.7402 21.5554 24.6854 21.8054 24.5794C22.0554 24.4734 22.2804 24.3184 22.4662 24.1241C22.6521 23.9298 22.7948 23.7003 22.8857 23.45C22.9765 23.1996 23.0135 22.9337 22.9943 22.6689L22.0215 9.40775C21.9857 8.91991 21.7614 8.46338 21.3938 8.13007C21.0262 7.79676 20.5425 7.61144 20.0401 7.61142H18.5429V7.33514C18.5429 5.94297 17.9748 4.60781 16.9636 3.62339C15.9525 2.63898 14.581 2.08594 13.151 2.08594C10.282 2.08594 7.63033 4.3105 7.75916 7.33514L7.76995 7.61142ZM18.5429 9.26906V13.4132C18.5429 13.633 18.4532 13.8438 18.2935 13.9992C18.1339 14.1547 17.9173 14.242 17.6915 14.242C17.4657 14.242 17.2492 14.1547 17.0895 13.9992C16.9299 13.8438 16.8402 13.633 16.8402 13.4132V9.26906H9.46185V13.4132C9.46185 13.633 9.37216 13.8438 9.2125 13.9992C9.05284 14.1547 8.8363 14.242 8.61051 14.242C8.38472 14.242 8.16817 14.1547 8.00852 13.9992C7.84886 13.8438 7.75916 13.633 7.75916 13.4132C7.75916 13.4132 7.83295 11.4765 7.80854 9.26906H6.26193C6.19028 9.26916 6.12131 9.29565 6.06888 9.3432C6.01645 9.39076 5.98445 9.45586 5.97929 9.52545L5.00592 22.7866C5.00311 22.8245 5.00835 22.8625 5.02131 22.8983C5.03427 22.9341 5.05468 22.967 5.08126 22.9947C5.10783 23.0225 5.14001 23.0447 5.17577 23.0598C5.21154 23.075 5.25013 23.0828 5.28913 23.0828H21.0129C21.0518 23.0826 21.0904 23.0747 21.126 23.0595C21.1617 23.0443 21.1938 23.0221 21.2204 22.9944C21.2469 22.9666 21.2673 22.9339 21.2804 22.8981C21.2934 22.8624 21.2987 22.8244 21.2961 22.7866L20.3227 9.52545C20.3176 9.45586 20.2856 9.39076 20.2331 9.3432C20.1807 9.29565 20.1117 9.26916 20.0401 9.26906H18.5429ZM16.8402 7.61142V7.33514C16.8402 6.3826 16.4515 5.46907 15.7596 4.79553C15.0678 4.12198 14.1294 3.74358 13.151 3.74358C12.1726 3.74358 11.2342 4.12198 10.5424 4.79553C9.85053 5.46907 9.46185 6.3826 9.46185 7.33514V7.61142H16.8402Z" fill="white"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_2026_3376">
                    <rect width="21" height="23" fill="white" transform="translate(2 1.5)"/>
                    </clipPath>
                    </defs>
                </svg>
                <LinkButton text={'В корзину'} />
            </div>
        </div>
    );
}

export default CardItem;